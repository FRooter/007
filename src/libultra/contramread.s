# Goldeneye 007 (U) disassembly and split file
# generated by n64split v0.4a - N64 ROM splitter

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64

.include "macros.inc"


.section .text, "ax" 
.section .text
glabel __osContRamRead
/* 0170B0 700164B0 27BDFFA0 */  addiu $sp, $sp, -0x60
/* 0170B4 700164B4 3C0E8006 */  lui   $t6, %hi(__osPfsPifRam) 
/* 0170B8 700164B8 AFBF001C */  sw    $ra, 0x1c($sp)
/* 0170BC 700164BC 25CE7D70 */  addiu $t6, %lo(__osPfsPifRam) # addiu $t6, $t6, 0x7d70
/* 0170C0 700164C0 240F0002 */  li    $t7, 2
/* 0170C4 700164C4 AFA40060 */  sw    $a0, 0x60($sp)
/* 0170C8 700164C8 AFA50064 */  sw    $a1, 0x64($sp)
/* 0170CC 700164CC AFA60068 */  sw    $a2, 0x68($sp)
/* 0170D0 700164D0 AFA7006C */  sw    $a3, 0x6c($sp)
/* 0170D4 700164D4 AFB00018 */  sw    $s0, 0x18($sp)
/* 0170D8 700164D8 AFA0005C */  sw    $zero, 0x5c($sp)
/* 0170DC 700164DC AFAE0054 */  sw    $t6, 0x54($sp)
/* 0170E0 700164E0 0C005798 */  jal   __osSiGetAccess
/* 0170E4 700164E4 AFAF0028 */   sw    $t7, 0x28($sp)
/* 0170E8 700164E8 24180002 */  li    $t8, 2
/* 0170EC 700164EC 3C018006 */  lui   $at, %hi(__osContLastCmd)
/* 0170F0 700164F0 A0387CE0 */  sb    $t8, %lo(__osContLastCmd)($at)
/* 0170F4 700164F4 8FA40064 */  lw    $a0, 0x64($sp)
/* 0170F8 700164F8 0C0059BD */  jal   __osContRamRead_sub
/* 0170FC 700164FC 97A5006A */   lhu   $a1, 0x6a($sp)
/* 017100 70016500 3C058006 */  lui   $a1, %hi(__osPfsPifRam)
/* 017104 70016504 24A57D70 */  addiu $a1, %lo(__osPfsPifRam) # addiu $a1, $a1, 0x7d70
/* 017108 70016508 0C0057B4 */  jal   __osSiRawStartDma
/* 01710C 7001650C 24040001 */   li    $a0, 1
/* 017110 70016510 AFA2005C */  sw    $v0, 0x5c($sp)
/* 017114 70016514 8FA40060 */  lw    $a0, 0x60($sp)
/* 017118 70016518 00002825 */  move  $a1, $zero
/* 01711C 7001651C 0C003774 */  jal   osRecvMesg
/* 017120 70016520 24060001 */   li    $a2, 1
.L70016524:
/* 017124 70016524 AFA00058 */  sw    $zero, 0x58($sp)
.L70016528:
/* 017128 70016528 8FA80058 */  lw    $t0, 0x58($sp)
/* 01712C 7001652C 8FAA0058 */  lw    $t2, 0x58($sp)
/* 017130 70016530 3C018006 */  lui   $at, %hi(__osPfsPifRam)
/* 017134 70016534 00084880 */  sll   $t1, $t0, 2
/* 017138 70016538 00290821 */  addu  $at, $at, $t1
/* 01713C 7001653C 241900FF */  li    $t9, 255
/* 017140 70016540 AC397D70 */  sw    $t9, %lo(__osPfsPifRam)($at)
/* 017144 70016544 254B0001 */  addiu $t3, $t2, 1
/* 017148 70016548 29610010 */  slti  $at, $t3, 0x10
/* 01714C 7001654C 1420FFF6 */  bnez  $at, .L70016528
/* 017150 70016550 AFAB0058 */   sw    $t3, 0x58($sp)
/* 017154 70016554 3C018006 */  lui   $at, %hi(__osPfsPifRam+0x3c)
/* 017158 70016558 3C058006 */  lui   $a1, %hi(__osPfsPifRam)
/* 01715C 7001655C AC207DAC */  sw    $zero, %lo(__osPfsPifRam+0x3c)($at)
/* 017160 70016560 24A57D70 */  addiu $a1, %lo(__osPfsPifRam) # addiu $a1, $a1, 0x7d70
/* 017164 70016564 0C0057B4 */  jal   __osSiRawStartDma
/* 017168 70016568 00002025 */   move  $a0, $zero
/* 01716C 7001656C AFA2005C */  sw    $v0, 0x5c($sp)
/* 017170 70016570 8FA40060 */  lw    $a0, 0x60($sp)
/* 017174 70016574 00002825 */  move  $a1, $zero
/* 017178 70016578 0C003774 */  jal   osRecvMesg
/* 01717C 7001657C 24060001 */   li    $a2, 1
/* 017180 70016580 8FAD0064 */  lw    $t5, 0x64($sp)
/* 017184 70016584 3C0C8006 */  lui   $t4, %hi(__osPfsPifRam) 
/* 017188 70016588 258C7D70 */  addiu $t4, %lo(__osPfsPifRam) # addiu $t4, $t4, 0x7d70
/* 01718C 7001658C 11A0000C */  beqz  $t5, .L700165C0
/* 017190 70016590 AFAC0054 */   sw    $t4, 0x54($sp)
/* 017194 70016594 19A0000A */  blez  $t5, .L700165C0
/* 017198 70016598 AFA00058 */   sw    $zero, 0x58($sp)
.L7001659C:
/* 01719C 7001659C 8FB80058 */  lw    $t8, 0x58($sp)
/* 0171A0 700165A0 8FB90064 */  lw    $t9, 0x64($sp)
/* 0171A4 700165A4 8FAE0054 */  lw    $t6, 0x54($sp)
/* 0171A8 700165A8 27080001 */  addiu $t0, $t8, 1
/* 0171AC 700165AC 0119082A */  slt   $at, $t0, $t9
/* 0171B0 700165B0 25CF0001 */  addiu $t7, $t6, 1
/* 0171B4 700165B4 AFA80058 */  sw    $t0, 0x58($sp)
/* 0171B8 700165B8 1420FFF8 */  bnez  $at, .L7001659C
/* 0171BC 700165BC AFAF0054 */   sw    $t7, 0x54($sp)
.L700165C0:
/* 0171C0 700165C0 8FAA0054 */  lw    $t2, 0x54($sp)
/* 0171C4 700165C4 27A9002C */  addiu $t1, $sp, 0x2c
/* 0171C8 700165C8 254C0024 */  addiu $t4, $t2, 0x24
.L700165CC:
/* 0171CC 700165CC 89410000 */  lwl   $at, ($t2)
/* 0171D0 700165D0 99410003 */  lwr   $at, 3($t2)
/* 0171D4 700165D4 254A000C */  addiu $t2, $t2, 0xc
/* 0171D8 700165D8 2529000C */  addiu $t1, $t1, 0xc
/* 0171DC 700165DC AD21FFF4 */  sw    $at, -0xc($t1)
/* 0171E0 700165E0 8941FFF8 */  lwl   $at, -8($t2)
/* 0171E4 700165E4 9941FFFB */  lwr   $at, -5($t2)
/* 0171E8 700165E8 AD21FFF8 */  sw    $at, -8($t1)
/* 0171EC 700165EC 8941FFFC */  lwl   $at, -4($t2)
/* 0171F0 700165F0 9941FFFF */  lwr   $at, -1($t2)
/* 0171F4 700165F4 154CFFF5 */  bne   $t2, $t4, .L700165CC
/* 0171F8 700165F8 AD21FFFC */   sw    $at, -4($t1)
/* 0171FC 700165FC 89410000 */  lwl   $at, ($t2)
/* 017200 70016600 99410003 */  lwr   $at, 3($t2)
/* 017204 70016604 AD210000 */  sw    $at, ($t1)
/* 017208 70016608 93AD002E */  lbu   $t5, 0x2e($sp)
/* 01720C 7001660C 31AE00C0 */  andi  $t6, $t5, 0xc0
/* 017210 70016610 000E7903 */  sra   $t7, $t6, 4
/* 017214 70016614 15E00025 */  bnez  $t7, .L700166AC
/* 017218 70016618 AFAF005C */   sw    $t7, 0x5c($sp)
/* 01721C 7001661C 27A4002C */  addiu $a0, $sp, 0x2c
/* 017220 70016620 0C00580C */  jal   __osContDataCrc
/* 017224 70016624 24840006 */   addiu $a0, $a0, 6
/* 017228 70016628 A3A20027 */  sb    $v0, 0x27($sp)
/* 01722C 7001662C 93B80027 */  lbu   $t8, 0x27($sp)
/* 017230 70016630 93A80052 */  lbu   $t0, 0x52($sp)
/* 017234 70016634 1308000F */  beq   $t8, $t0, .L70016674
/* 017238 70016638 00000000 */   nop   
/* 01723C 7001663C 8FA40060 */  lw    $a0, 0x60($sp)
/* 017240 70016640 0C0051FD */  jal   __osPfsGetStatus
/* 017244 70016644 8FA50064 */   lw    $a1, 0x64($sp)
/* 017248 70016648 AFA2005C */  sw    $v0, 0x5c($sp)
/* 01724C 7001664C 8FB9005C */  lw    $t9, 0x5c($sp)
/* 017250 70016650 13200005 */  beqz  $t9, .L70016668
/* 017254 70016654 00000000 */   nop   
/* 017258 70016658 0C0057A9 */  jal   __osSiRelAccess
/* 01725C 7001665C 00000000 */   nop   
/* 017260 70016660 1000001F */  b     .L700166E0
/* 017264 70016664 8FA2005C */   lw    $v0, 0x5c($sp)
.L70016668:
/* 017268 70016668 240B0004 */  li    $t3, 4
/* 01726C 7001666C 1000000F */  b     .L700166AC
/* 017270 70016670 AFAB005C */   sw    $t3, 0x5c($sp)
.L70016674:
/* 017274 70016674 AFA00058 */  sw    $zero, 0x58($sp)
.L70016678:
/* 017278 70016678 8FAC0058 */  lw    $t4, 0x58($sp)
/* 01727C 7001667C 8FA9006C */  lw    $t1, 0x6c($sp)
/* 017280 70016680 03AC5021 */  addu  $t2, $sp, $t4
/* 017284 70016684 914A0032 */  lbu   $t2, 0x32($t2)
/* 017288 70016688 A12A0000 */  sb    $t2, ($t1)
/* 01728C 7001668C 8FAF0058 */  lw    $t7, 0x58($sp)
/* 017290 70016690 8FAD006C */  lw    $t5, 0x6c($sp)
/* 017294 70016694 25F80001 */  addiu $t8, $t7, 1
/* 017298 70016698 2B010020 */  slti  $at, $t8, 0x20
/* 01729C 7001669C 25AE0001 */  addiu $t6, $t5, 1
/* 0172A0 700166A0 AFB80058 */  sw    $t8, 0x58($sp)
/* 0172A4 700166A4 1420FFF4 */  bnez  $at, .L70016678
/* 0172A8 700166A8 AFAE006C */   sw    $t6, 0x6c($sp)
.L700166AC:
/* 0172AC 700166AC 8FA8005C */  lw    $t0, 0x5c($sp)
/* 0172B0 700166B0 24010004 */  li    $at, 4
/* 0172B4 700166B4 15010007 */  bne   $t0, $at, .L700166D4
/* 0172B8 700166B8 00000000 */   nop   
/* 0172BC 700166BC 8FB90028 */  lw    $t9, 0x28($sp)
/* 0172C0 700166C0 2B300000 */  slti  $s0, $t9, 0
/* 0172C4 700166C4 3A100001 */  xori  $s0, $s0, 1
/* 0172C8 700166C8 272BFFFF */  addiu $t3, $t9, -1
/* 0172CC 700166CC 1600FF95 */  bnez  $s0, .L70016524
/* 0172D0 700166D0 AFAB0028 */   sw    $t3, 0x28($sp)
.L700166D4:
/* 0172D4 700166D4 0C0057A9 */  jal   __osSiRelAccess
/* 0172D8 700166D8 00000000 */   nop   
/* 0172DC 700166DC 8FA2005C */  lw    $v0, 0x5c($sp)
.L700166E0:
/* 0172E0 700166E0 8FBF001C */  lw    $ra, 0x1c($sp)
/* 0172E4 700166E4 8FB00018 */  lw    $s0, 0x18($sp)
/* 0172E8 700166E8 27BD0060 */  addiu $sp, $sp, 0x60
/* 0172EC 700166EC 03E00008 */  jr    $ra
/* 0172F0 700166F0 00000000 */   nop   

glabel __osContRamRead_sub
/* 0172F4 700166F4 27BDFFB8 */  addiu $sp, $sp, -0x48
/* 0172F8 700166F8 3C0E8006 */  lui   $t6, %hi(__osPfsPifRam) 
/* 0172FC 700166FC 25CE7D70 */  addiu $t6, %lo(__osPfsPifRam) # addiu $t6, $t6, 0x7d70
/* 017300 70016700 AFBF0014 */  sw    $ra, 0x14($sp)
/* 017304 70016704 AFA40048 */  sw    $a0, 0x48($sp)
/* 017308 70016708 AFA5004C */  sw    $a1, 0x4c($sp)
/* 01730C 7001670C AFAE0044 */  sw    $t6, 0x44($sp)
/* 017310 70016710 AFA00018 */  sw    $zero, 0x18($sp)
.L70016714:
/* 017314 70016714 8FAF0018 */  lw    $t7, 0x18($sp)
/* 017318 70016718 8FB90018 */  lw    $t9, 0x18($sp)
/* 01731C 7001671C 3C018006 */  lui   $at, %hi(__osPfsPifRam)
/* 017320 70016720 000FC080 */  sll   $t8, $t7, 2
/* 017324 70016724 00380821 */  addu  $at, $at, $t8
/* 017328 70016728 AC207D70 */  sw    $zero, %lo(__osPfsPifRam)($at)
/* 01732C 7001672C 27280001 */  addiu $t0, $t9, 1
/* 017330 70016730 29010010 */  slti  $at, $t0, 0x10
/* 017334 70016734 1420FFF7 */  bnez  $at, .L70016714
/* 017338 70016738 AFA80018 */   sw    $t0, 0x18($sp)
/* 01733C 7001673C 24090001 */  li    $t1, 1
/* 017340 70016740 3C018006 */  lui   $at, %hi(__osPfsPifRam+0x3c)
/* 017344 70016744 240A00FF */  li    $t2, 255
/* 017348 70016748 240B0003 */  li    $t3, 3
/* 01734C 7001674C 240C0021 */  li    $t4, 33
/* 017350 70016750 240D0002 */  li    $t5, 2
/* 017354 70016754 AC297DAC */  sw    $t1, %lo(__osPfsPifRam+0x3c)($at)
/* 017358 70016758 A3AA001C */  sb    $t2, 0x1c($sp)
/* 01735C 7001675C A3AB001D */  sb    $t3, 0x1d($sp)
/* 017360 70016760 A3AC001E */  sb    $t4, 0x1e($sp)
/* 017364 70016764 A3AD001F */  sb    $t5, 0x1f($sp)
/* 017368 70016768 0C0057E0 */  jal   __osContAddressCrc
/* 01736C 7001676C 97A4004E */   lhu   $a0, 0x4e($sp)
/* 017370 70016770 97AE004E */  lhu   $t6, 0x4e($sp)
/* 017374 70016774 241900FF */  li    $t9, 255
/* 017378 70016778 A3B90042 */  sb    $t9, 0x42($sp)
/* 01737C 7001677C 000E7940 */  sll   $t7, $t6, 5
/* 017380 70016780 004FC025 */  or    $t8, $v0, $t7
/* 017384 70016784 A7B80020 */  sh    $t8, 0x20($sp)
/* 017388 70016788 AFA00018 */  sw    $zero, 0x18($sp)
.L7001678C:
/* 01738C 7001678C 8FA90018 */  lw    $t1, 0x18($sp)
/* 017390 70016790 240800FF */  li    $t0, 255
/* 017394 70016794 03A95021 */  addu  $t2, $sp, $t1
/* 017398 70016798 A1480022 */  sb    $t0, 0x22($t2)
/* 01739C 7001679C 8FAB0018 */  lw    $t3, 0x18($sp)
/* 0173A0 700167A0 256C0001 */  addiu $t4, $t3, 1
/* 0173A4 700167A4 29810020 */  slti  $at, $t4, 0x20
/* 0173A8 700167A8 1420FFF8 */  bnez  $at, .L7001678C
/* 0173AC 700167AC AFAC0018 */   sw    $t4, 0x18($sp)
/* 0173B0 700167B0 8FAD0048 */  lw    $t5, 0x48($sp)
/* 0173B4 700167B4 11A0000E */  beqz  $t5, .L700167F0
/* 0173B8 700167B8 00000000 */   nop   
/* 0173BC 700167BC 19A0000C */  blez  $t5, .L700167F0
/* 0173C0 700167C0 AFA00018 */   sw    $zero, 0x18($sp)
.L700167C4:
/* 0173C4 700167C4 8FAE0044 */  lw    $t6, 0x44($sp)
/* 0173C8 700167C8 A1C00000 */  sb    $zero, ($t6)
/* 0173CC 700167CC 8FB90018 */  lw    $t9, 0x18($sp)
/* 0173D0 700167D0 8FA90048 */  lw    $t1, 0x48($sp)
/* 0173D4 700167D4 8FAF0044 */  lw    $t7, 0x44($sp)
/* 0173D8 700167D8 27280001 */  addiu $t0, $t9, 1
/* 0173DC 700167DC 0109082A */  slt   $at, $t0, $t1
/* 0173E0 700167E0 25F80001 */  addiu $t8, $t7, 1
/* 0173E4 700167E4 AFA80018 */  sw    $t0, 0x18($sp)
/* 0173E8 700167E8 1420FFF6 */  bnez  $at, .L700167C4
/* 0173EC 700167EC AFB80044 */   sw    $t8, 0x44($sp)
.L700167F0:
/* 0173F0 700167F0 27AB001C */  addiu $t3, $sp, 0x1c
/* 0173F4 700167F4 256D0024 */  addiu $t5, $t3, 0x24
/* 0173F8 700167F8 8FAA0044 */  lw    $t2, 0x44($sp)
.L700167FC:
/* 0173FC 700167FC 8D610000 */  lw    $at, ($t3)
/* 017400 70016800 256B000C */  addiu $t3, $t3, 0xc
/* 017404 70016804 254A000C */  addiu $t2, $t2, 0xc
/* 017408 70016808 A941FFF4 */  swl   $at, -0xc($t2)
/* 01740C 7001680C B941FFF7 */  swr   $at, -9($t2)
/* 017410 70016810 8D61FFF8 */  lw    $at, -8($t3)
/* 017414 70016814 A941FFF8 */  swl   $at, -8($t2)
/* 017418 70016818 B941FFFB */  swr   $at, -5($t2)
/* 01741C 7001681C 8D61FFFC */  lw    $at, -4($t3)
/* 017420 70016820 A941FFFC */  swl   $at, -4($t2)
/* 017424 70016824 156DFFF5 */  bne   $t3, $t5, .L700167FC
/* 017428 70016828 B941FFFF */   swr   $at, -1($t2)
/* 01742C 7001682C 8D610000 */  lw    $at, ($t3)
/* 017430 70016830 241800FE */  li    $t8, 254
/* 017434 70016834 A9410000 */  swl   $at, ($t2)
/* 017438 70016838 B9410003 */  swr   $at, 3($t2)
/* 01743C 7001683C 8FAE0044 */  lw    $t6, 0x44($sp)
/* 017440 70016840 25CF0028 */  addiu $t7, $t6, 0x28
/* 017444 70016844 AFAF0044 */  sw    $t7, 0x44($sp)
/* 017448 70016848 A1F80000 */  sb    $t8, ($t7)
/* 01744C 7001684C 8FBF0014 */  lw    $ra, 0x14($sp)
/* 017450 70016850 27BD0048 */  addiu $sp, $sp, 0x48
/* 017454 70016854 03E00008 */  jr    $ra
/* 017458 70016858 00000000 */   nop   

